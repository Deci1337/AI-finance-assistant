# Устранение проблем с GigaChat API

## Проблема: Используется простой метод вместо GigaChat API

### Причины:

1. **Не удается получить токен доступа**
   - Проверьте логи backend сервера
   - Токен может быть недействительным или истекшим
   - Проблемы с сетью или доступом к API

2. **Ошибки при запросе к API**
   - Проверьте логи на наличие ошибок
   - Возможно, превышен лимит запросов
   - Проблемы с форматом запроса

### Как проверить:

1. **Запустите backend и проверьте логи:**
```bash
cd backend
python main.py
```

2. **Ищите в логах сообщения:**
   - `GigaChat token получен успешно` - токен получен
   - `GigaChat: ошибка получения токена` - проблема с токеном
   - `GigaChat API доступен` - API работает
   - `GigaChat API недоступен` - используется fallback

3. **Проверьте токен вручную:**
```python
from gigachat_integration import get_access_token
token = get_access_token()
print(f"Token: {token}")
```

### Решение:

1. **Если токен не получается:**
   - Проверьте учетные данные в `get_access_token()`
   - Убедитесь, что у вас есть доступ к GigaChat API
   - Проверьте интернет-соединение

2. **Если токен получается, но API не работает:**
   - Проверьте формат запроса
   - Убедитесь, что модель доступна
   - Проверьте лимиты API

3. **Временное решение:**
   - Простой метод извлечения работает как fallback
   - Он менее точный, но функциональный
   - Предупреждение показывается пользователю

### Красная ошибка внизу экрана:

Это предупреждение о том, что используется простой метод извлечения. Это не критическая ошибка, просто информация для пользователя.

Чтобы убрать предупреждение, нужно:
1. Убедиться, что GigaChat API работает
2. Проверить логи backend
3. Исправить проблему с получением токена

