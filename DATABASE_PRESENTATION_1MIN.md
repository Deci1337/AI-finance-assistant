# Выступление: База данных AI Finance Assistant
## Длительность: 1 минута (примерно 130-140 слов)

---

## Вариант 1: Технический акцент

Добрый день! Расскажу про базу данных нашего приложения.

**Технология:** SQLite — легковесная встраиваемая БД. Локальное хранение данных на устройстве пользователя. Файл базы: financeassistant.db3 в AppDataDirectory.

**Архитектура:** Асинхронные операции через SQLiteAsyncConnection. SharedCache режим для оптимизации. Ленивая инициализация — база создается при первом обращении.

**Модели данных:** Три основные таблицы. Transaction — транзакции с полями: Id, Title, Amount, Type (Income/Expense), CategoryId, Importance, Date, Description. Category — категории с Name, Icon, ColorHex, Type. UserProfile — профиль пользователя с Name, AvatarInitial, Currency, Friendliness score.

**Операции:** CRUD для всех сущностей. GetTransactionsAsync — получение всех транзакций с JOIN категорий. GetRecentTransactionsAsync — последние N транзакций. GetChartDataAsync — данные для графиков с группировкой по дням. GetCategoryStatsAsync — статистика по категориям с агрегацией.

**Особенности:** SeedDefaultDataAsync — автоматическое заполнение дефолтными категориями при первом запуске. GetOrCreateCategoryAsync — умное создание категорий, поиск существующих или создание новых. Адаптивная группировка данных для графиков: по дням (до 7 дней), по неделям (до 30 дней), по месяцам (больше 30 дней).

**Производительность:** Индексы на первичных ключах, асинхронные запросы для неблокирующего UI, оптимизированные JOIN-запросы.

**Результат:** Быстрая, надежная, локальная база данных с полным контролем данных пользователя.

Спасибо!

---

## Вариант 2: Акцент на безопасности и конфиденциальности

Добрый день! Презентую базу данных нашего приложения.

**Главное:** SQLite — локальная база данных. Все финансовые данные хранятся на устройстве пользователя. Никаких облачных синхронизаций — полная конфиденциальность.

**Структура:** Три основные таблицы. Транзакции — все доходы и расходы с категориями, датами, важностью. Категории — предустановленные и пользовательские с цветами и иконками. Профиль пользователя — настройки, включая AI-анализ дружелюбности.

**Функциональность:** Быстрый поиск транзакций, фильтрация по категориям и датам, статистика по периодам. Автоматическое заполнение дефолтными категориями при первом запуске. Умное создание категорий — система находит существующие или создает новые.

**Производительность:** Асинхронные операции — UI не блокируется при работе с базой. Оптимизированные запросы для графиков — группировка по дням, неделям, месяцам в зависимости от периода.

**Безопасность:** Данные хранятся локально в защищенной директории приложения. Нет передачи данных в облако. Пользователь полностью контролирует свои финансы.

**Результат:** Надежное, быстрое, безопасное хранение финансовых данных с полной конфиденциальностью.

Спасибо!

---

## Вариант 3: Баланс техники и бизнес-ценности

Добрый день! Расскажу про базу данных.

**Технология:** SQLite — встраиваемая БД для локального хранения. Файл financeassistant.db3 в защищенной директории приложения.

**Архитектура:** Асинхронные операции через SQLiteAsyncConnection. Ленивая инициализация — база создается при первом обращении. SharedCache для оптимизации параллельных запросов.

**Модели:** Transaction (транзакции), Category (категории), UserProfile (профиль). Связи через внешние ключи. Поддержка типов транзакций (доход/расход) и уровней важности.

**Операции:** CRUD для всех сущностей. Специализированные методы: GetChartDataAsync для графиков, GetCategoryStatsAsync для статистики, GetRecentTransactionsAsync для главной страницы. Адаптивная группировка: дни/недели/месяцы в зависимости от периода.

**Особенности:** Автоматическое заполнение дефолтными категориями (13 категорий расходов и доходов). Умное создание категорий — поиск существующих или создание новых. SeedTestDataAsync для тестирования — генерация реалистичных данных за 60 дней.

**Производительность:** Асинхронные запросы, оптимизированные JOIN, индексы на ключевых полях.

**Результат:** Быстрая, надежная, локальная БД с полным контролем данных и конфиденциальностью.

Спасибо!

---

## Рекомендации по выбору варианта:

- **Вариант 1** — для технической аудитории (разработчики, DBA)
- **Вариант 2** — для бизнес-аудитории (акцент на безопасность)
- **Вариант 3** — для смешанной аудитории (универсальный вариант)

---

## Структура выступления (для запоминания):

1. **Приветствие + технология** (10 сек)
2. **Архитектура** (10 сек)
3. **Модели данных** (15 сек)
4. **Операции** (15 сек)
5. **Особенности** (5 сек)
6. **Заключение** (5 сек)

**Итого:** ~60 секунд

---

## Ключевые технические термины:

- **SQLite** — встраиваемая база данных
- **SQLiteAsyncConnection** — асинхронное подключение
- **CRUD** — Create, Read, Update, Delete
- **JOIN** — объединение таблиц
- **SharedCache** — режим разделяемого кэша
- **Lazy Initialization** — ленивая инициализация
- **AppDataDirectory** — защищенная директория приложения

---

## Визуализация (если есть слайды):

**Слайд 1:** Структура БД
- 3 таблицы: Transaction, Category, UserProfile
- Связи между таблицами

**Слайд 2:** Операции
- CRUD операции
- Специализированные запросы

**Слайд 3:** Безопасность
- Локальное хранение
- Защищенная директория
- Конфиденциальность

---

## Примечания для выступления:

- **Темп:** 130-140 слов в минуту
- **Паузы:** 
  - После упоминания SQLite
  - После каждой модели (1-2 сек)
  - Перед заключением
- **Акценты:** Выделяйте голосом:
  - "SQLite" (технология)
  - "Локальное хранение" (безопасность)
  - "Асинхронные операции" (производительность)
- **Жесты:**
  - Показывайте структуру таблиц руками
  - Жест "безопасность" при упоминании конфиденциальности

---

## Типичные вопросы и ответы:

**Q: Почему SQLite, а не облачная БД?**
A: Локальное хранение обеспечивает конфиденциальность, работает офлайн, быстрее, нет зависимости от интернета.

**Q: Как обеспечивается производительность?**
A: Асинхронные операции, индексы на ключевых полях, оптимизированные JOIN-запросы, SharedCache режим.

**Q: Что происходит при обновлении схемы БД?**
A: SQLite поддерживает миграции через CreateTableAsync. Можно добавить версионирование схемы для будущих обновлений.

**Q: Как обрабатываются большие объемы данных?**
A: Пагинация через Take/Skip, индексы для быстрого поиска, группировка данных для графиков на уровне БД.

**Q: Есть ли резервное копирование?**
A: Файл БД можно экспортировать из AppDataDirectory. Можно добавить автоматический экспорт в настройках.

---

## Краткая шпаргалка (для быстрого повторения):

```
1. SQLite = локальная БД
2. 3 таблицы = Transaction, Category, UserProfile
3. Асинхронные операции = производительность
4. Локальное хранение = конфиденциальность
5. Автозаполнение = дефолтные категории
6. Результат = быстрая, безопасная БД
```

---

## Альтернативный вариант (если нужно больше технических деталей):

Добрый день! База данных на SQLite.

**Технология:** SQLiteAsyncConnection с флагами ReadWrite, Create, SharedCache. Файл financeassistant.db3 в FileSystem.AppDataDirectory. Ленивая инициализация через InitAsync.

**Модели:** Transaction с PrimaryKey AutoIncrement, полями Title, Amount (decimal), Type (enum), CategoryId (FK), Importance (enum), Date (DateTime), Description. Category с Name, Icon, ColorHex, Type, IsDefault. UserProfile с Name, AvatarInitial, Currency, Friendliness (double), MessagesAnalyzed.

**Операции:** GetTransactionsAsync — OrderByDescending по Date с JOIN категорий. GetRecentTransactionsAsync — Take(count) для пагинации. GetChartDataAsync — группировка по дням с Where фильтром. GetCategoryStatsAsync — GroupBy CategoryId с Sum и Count агрегацией.

**Особенности:** SeedDefaultDataAsync — проверка CountAsync перед InsertAllAsync. GetOrCreateCategoryAsync — поиск по Name и Type, fallback на "Other", создание с дефолтными значениями. Адаптивная группировка: дни (≤7), недели (≤30), месяцы (>30).

**Производительность:** Индексы на Id (PrimaryKey), асинхронные операции, оптимизированные LINQ запросы.

**Результат:** Эффективная локальная БД с полным контролем данных.

Спасибо!

---

*Выберите вариант в зависимости от вашей аудитории и стиля выступления*

